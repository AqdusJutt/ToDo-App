(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{283:(e,t,a)=>{"use strict";a.d(t,{A:()=>i,AuthProvider:()=>d});var s=a(5155),r=a(2115),l=a(5404),n=a(6104),o=a(5317);let u=(0,r.createContext)(void 0);function d(e){let{children:t}=e,[a,d]=(0,r.useState)(null),[i,c]=(0,r.useState)(!0);(0,r.useEffect)(()=>(0,l.hg)(n.j,e=>{d(e),c(!1)}),[]);let b=async(e,t)=>{try{await (0,l.x9)(n.j,e,t)}catch(e){throw e}},h=async(e,t,a)=>{try{let s=await (0,l.eJ)(n.j,e,t);await (0,o.BN)((0,o.H9)(n.db,"users",s.user.uid),{name:a,email:e,createdAt:new Date})}catch(e){throw e}},m=async()=>{try{await (0,l.CI)(n.j)}catch(e){throw e}};return(0,s.jsx)(u.Provider,{value:{user:a,loading:i,signIn:b,signUp:h,logout:m},children:t})}function i(){let e=(0,r.useContext)(u);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},3792:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(5155),r=a(2115),l=a(5695),n=a(283);function o(){let[e,t]=(0,r.useState)(""),[a,o]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[i,c]=(0,r.useState)(""),[b,h]=(0,r.useState)(!1),[m,x]=(0,r.useState)(!1),p=(0,l.useRouter)(),{user:g,signIn:f,signUp:y}=(0,n.A)();(0,r.useEffect)(()=>{g&&p.push("/dashboard")},[g,p]);let w=async()=>{if(!e||!a||b&&!u)return void c("Please enter all required fields.");if(a.length<6)return void c("Password must be at least 6 characters.");x(!0),c("");try{b?await y(e,a,u):await f(e,a)}catch(e){c(e instanceof Error?e.message:"An error occurred. Please try again.")}finally{x(!1)}},v=e=>{"Enter"===e.key&&w()};return(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-100 to-blue-300",children:(0,s.jsxs)("div",{className:"bg-white shadow-lg p-8 rounded-lg w-full max-w-sm",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4 text-center",children:b?"Create Account":"Login"}),b&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm mb-1 text-gray-700",children:"Name"}),(0,s.jsx)("input",{type:"text",className:"w-full border border-gray-300 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400",value:u,onChange:e=>d(e.target.value),onKeyPress:v,placeholder:"Your Name",disabled:m})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm mb-1 text-gray-700",children:"Email"}),(0,s.jsx)("input",{type:"email",className:"w-full border border-gray-300 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400",value:e,onChange:e=>t(e.target.value),onKeyPress:v,placeholder:"you@example.com",disabled:m})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm mb-1 text-gray-700",children:"Password"}),(0,s.jsx)("input",{type:"password",className:"w-full border border-gray-300 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400",value:a,onChange:e=>o(e.target.value),onKeyPress:v,placeholder:"********",disabled:m})]}),i&&(0,s.jsx)("p",{className:"text-red-500 text-sm mb-4",children:i}),(0,s.jsx)("button",{onClick:w,disabled:m,className:"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 transition disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Loading...":b?"Sign Up":"Login"}),(0,s.jsx)("div",{className:"mt-4 text-center",children:(0,s.jsx)("button",{onClick:()=>h(!b),className:"text-blue-500 hover:text-blue-700 text-sm",disabled:m,children:b?"Already have an account? Login":"Don't have an account? Sign Up"})})]})})}},5695:(e,t,a)=>{"use strict";var s=a(8999);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},6104:(e,t,a)=>{"use strict";a.d(t,{db:()=>u,j:()=>o});var s=a(3915),r=a(5404),l=a(5317);let n=(0,s.Wp)({apiKey:"AIzaSyCloCroLktXRY-gwRdxzba9OPtQgDS_44w",authDomain:"to-do-app-d2980.firebaseapp.com",projectId:"to-do-app-d2980",storageBucket:"to-do-app-d2980.firebasestorage.app",messagingSenderId:"127619535521",appId:"1:127619535521:web:28a110649a44918f02d6e0"}),o=(0,r.xI)(n),u=(0,l.aU)(n)},9121:(e,t,a)=>{Promise.resolve().then(a.bind(a,3792))}},e=>{e.O(0,[135,965,670,441,964,358],()=>e(e.s=9121)),_N_E=e.O()}]);